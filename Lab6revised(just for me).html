<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cat Facts</title>
</head>
<body>
    <h1>Please click the button to get cat facts!</h1>
    <button type="button" onclick="getdata()">Click Here!</button>
    <div id="Lab6"></div>

    <script>
    async function getdata() {
        const url = 'https://brianobruno.github.io/cats.json';
        const options = {
            method: 'GET',
        };
        try {
            const response = await fetch(url, options);
            const data = await response.json(); 
            console.log(data);

            const obj = data.facts;

            // Log each fact's text
            console.log(obj[0].text);
            console.log(obj[1].text);
            console.log(obj[2].text);
            console.log(obj[3].text);
            console.log(obj[4].text);

            // Alternative way to log facts
            obj.forEach(fact => {
                console.log(fact.text);
            });

            // Sort the facts based on factId
            obj.sort((a, b) => a.factId - b.factId);

            // Start building the HTML for the table
            let tableHTML = `
                <table>
                    <thead>
                        <tr>
                            <th>Fact ID</th>
                            <th>Fact</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            // Loop through each fact and create a row in the table
            obj.forEach(fact => {
                tableHTML += `<tr><td>${fact.factId}</td><td>${fact.text}</td></tr>`;
            });

            tableHTML += `
                    </tbody>
                </table>
            `; // Close the table

            // Update the Lab6 div with the complete table HTML
            document.getElementById("Lab6").innerHTML = tableHTML;

        } catch (error) {
            console.error("Error fetching data:", error);
            document.getElementById("Lab6").innerHTML = `<p>Error fetching data: ${error.message}</p>`;
        }
    }
    </script>
</body>
</html>
