<!DOCTYPE html>
<html>
<head>
    <title>Cat Facts</title>
</head>
<body>
    <button onclick="letsdisplay()">Submit</button>
    <div id="Lab 6"></div>
</body>
<script>
    let myObj = []; 

    async function letsdisplay() {
        await letsget();
        await letspost();
    }

    async function letsget() {
        /* GET */
        const url = 'https://brianobruno.github.io/cats.json';

        const options = {
            method: 'GET'
        };
        try {
            const response = await fetch(url, options);
            const results = await response.text(); 
            myObj = JSON.parse(results); 
            myObj.sort((a, b) => a.factId - b.factId); 
            console.log(myObj);
        } catch (error) {
            console.error("Error fetching data:", error);
        }
    }

    async function letspost() {
        /* POST */
        const url = 'https://brianobruno.github.io/cats.json';

        const options = {
            method: 'POST',
            body: JSON.stringify(myObj)
        };
        try {
            const response = await fetch(url, options);
            const results = await response.text(); 
            console.log(results); 
        } catch (error) {
            console.error("Error posting data:", error);
        }
    }

    let myPromise = new Promise(function(myResolve, myReject) {
        myResolve("Successful"); // successful
        myReject("Failed"); // error
    });

    myPromise.then(
        function (value) {
            console.log(value); 
        },
        function (error) {
            console.error(error); 
        }
    );
</script>
</html>